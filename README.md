# Страница результатов поиска авиабилетов _(тестовое задание)_
## Описание
Данные загружаются из JSON-файла (как имитация загрузки с сервера). Производится их предварительная обработка (извлекаются свойства, добавляются некоторые вспомогательные показатели) и рендер в Реакт-компонентах.
## Технологии
- React (Create React App)
- Redux
- Redux Toolkit
## Запуск
Скачайте код, установите зависимости (`npm install`) и запустите проект командой `npm start` (автоматически откроется в браузере).
## Комментарии и возможный рефакторинг
### 1. Рендер
Данные рендерятся по следующей схеме:
- исходный массив данных (`flights`);
- сортируемый массив индексов для рендера (`sortedIndices`);
- массив индексов фактически отрендеренных элементов (`renderedIndices`; выделяется для нужд пагинации).

Исходный массив не изменяется, сортировка выполняется в производном массиве – `sortedIndices`, а уже по нему происходит рендер. Решил так сделать, потому что
- полагаю, что сортировка индексов, пусть даже и с обращением к исходному массиву, будет менее дорогой операцией, чем сортировка исходного массива;
- для фильтрации все равно необходимо, чтобы исходный массив сохранялся, т. к. сама фильтрация предполагает удаление неподходящих элементов из списка рендера.
### 2. Сортировка и фильтрация
- Возможно, стоит переконструировать механизм запоминания условий, примененных к данным, чтобы упростить логику сортировки фильтрации (сейчас она явно сложная).
- Заменить хардкод атрибутов `fieldSetName`, `fieldId` и т. п. на схему _единого источника правды_ (чтобы их строковые значения задавались в едином месте в переменных, а эти переменные уже вызывались во всех файлах, где нужно).
- Применить `useCallback`.
- Довести верстку до полного соответствия макету.
- Улучшить UX.
- Сделать **фасетную фильтрацию** – чтобы при применении одних опций фильтров другие опции, которые становятся неактуальными, становились неактивными.  
Как это сделать в текущей реализации: после обновления `filterCriteria` должна вызываться функция примерно со следующей логикой:
```
для каждой опции каждого фильтра:
disabled={
    !sortedIndices.some((flightIndex) => {
      return <есть ли у авиабилета flights[flightIndex] эта option>
    })
  }
```
- Разбить `FilterPanel` на компоненты.
#### Примечание
Файл _src\data\_analysis.js_ вспомогательный, в нем можно посмотреть, что я предпринимал, чтобы понять структуру исходных данных. Включаются нужные строки, после чего файл запускается в терминале командой `node src\data_analysis.js`.
